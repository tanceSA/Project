
執行緒同步機制帶來的問題，死鎖

1.如何看待死鎖

不同執行緒分別佔用對方需要的同步資源, 都在等待對方放棄自己需要的同步資源，形成了死鎖

2.誘發死鎖的原因
>互斥条件
>佔用且等待
>不可搶奪（或不可搶佔）
>循環等待
以上4個條件，同時出現就會觸發死鎖


解決死鎖：

死鎖一旦出現，基本很難人為乾預，只能盡量規避。可以考慮打破上面的誘發條件。

針對條件1：互斥條件基本上無法被破壞。因為線程需要通過互斥解決安全問題。

針對條件2：可以考慮一次性申請所有所需的資源，這樣就不存在等待的問題。

針對條件3：佔用部分資源的線程在進一步申請其他資源時，如果申請不到，就主動釋放掉已經佔用的資源。

針對條件4：可以將資源改為線性順序。申請資源時，先申請序號較小的，這樣避免循環等待問題。